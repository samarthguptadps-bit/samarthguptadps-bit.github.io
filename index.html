<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROBO-MATH | CREATED BY SAMARTH</title>
    <style>
        :root {
            --neon-blue: #00f2ff;
            --neon-orange: #ff9d00;
            --neon-purple: #bc13fe;
            --bright-bg: #050a1f;
            --card-bg: rgba(15, 25, 55, 0.98);
        }

        body {
            background-color: var(--bright-bg);
            background-image: radial-gradient(circle at 50% 50%, #1e3a8a 0%, #050a1f 100%);
            color: white; font-family: 'Arial Black', sans-serif; margin: 0;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        /* --- CREATOR SIGNATURE --- */
        .creator-banner {
            width: 100%; background: linear-gradient(90deg, #ff0000, #ff9d00, #00f2ff, #bc13fe, #ff0000);
            background-size: 400% 400%; animation: gradientMove 8s ease infinite;
            padding: 10px 0; text-align: center; border-bottom: 4px solid gold;
        }
        @keyframes gradientMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .creator-name { font-size: 2rem; color: white; text-shadow: 0 0 10px #000; letter-spacing: 2px; }

        /* --- UI NAVIGATION --- */
        .id-card { background: var(--card-bg); padding: 10px; width: 100%; display: flex; justify-content: center; gap: 15px; border-bottom: 3px solid var(--neon-blue); }
        .id-card input { border: 2px solid var(--neon-purple); padding: 5px; font-weight: 900; width: 140px; border-radius: 5px; }

        .nav-switch { margin: 20px 0; display: flex; gap: 10px; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 50px; border: 2px solid var(--neon-blue); }
        .nav-btn { padding: 10px 30px; border: none; border-radius: 40px; cursor: pointer; font-weight: bold; font-size: 1.1rem; transition: 0.3s; background: transparent; color: white; }
        .nav-btn.active { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px var(--neon-blue); }

        .full-section { width: 95%; display: none; animation: fadeIn 0.5s ease; }
        .full-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- TIC TAC TOE FIX --- */
        .ttt-box { max-width: 320px; margin: 30px auto; background: var(--card-bg); padding: 20px; border-radius: 20px; border: 3px solid var(--neon-blue); text-align: center; position: relative; }
        .ttt-grid-wrapper { position: relative; width: fit-content; margin: 0 auto; }
        .ttt-grid { display: grid; grid-template-columns: repeat(3, 80px); gap: 8px; background: var(--neon-blue); padding: 8px; border-radius: 10px; }
        .cell { width: 80px; height: 80px; background: white; color: black; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; cursor: pointer; border-radius: 5px; font-family: sans-serif; }
        
        #strike-line {
            position: absolute; background: var(--neon-orange); box-shadow: 0 0 15px var(--neon-orange);
            height: 6px; border-radius: 10px; z-index: 10; display: none; pointer-events: none;
        }

        /* --- SUDOKU & MATH --- */
        .sudoku-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 15px; justify-items: center; }
        .sudoku-board { display: grid; grid-template-columns: repeat(9, 22px); grid-template-rows: repeat(9, 22px); border: 2px solid white; background: white; }
        .s-cell { width: 22px; height: 22px; border: 0.5px solid #ccc; color: black; font-size: 12px; text-align: center; line-height: 22px; }
        .s-cell input { width: 100%; height: 100%; border: none; text-align: center; font-weight: bold; }
        .s-fixed { background: #ddd; font-weight: bold; }

        .math-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; }
        .game-block { background: var(--card-bg); border: 2px solid var(--neon-purple); border-radius: 20px; padding: 20px; }
        .chip { background: white; color: black; padding: 8px; margin: 5px; cursor: grab; border-radius: 5px; font-size: 0.9rem; text-align: center; font-family: sans-serif; }
        .slot { background: #000; border: 1px dashed var(--neon-blue); min-height: 45px; margin: 5px; border-radius: 8px; color: var(--neon-orange); display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

<div class="creator-banner">
    <div class="creator-name">⭐ SAMARTH ⭐</div>
    <div style="color: white; font-size: 0.9rem;">CREATOR OF ROBO-MATH | CLASS 7C</div>
</div>

<div class="id-card">
    <input type="text" id="player-name" placeholder="PLAYER NAME">
    <input type="text" placeholder="CLASS 7C">
</div>

<div class="nav-switch">
    <button class="nav-btn active" onclick="showSection('section-a', this)">SECTION A: LOGIC</button>
    <button class="nav-btn" onclick="showSection('section-b', this)">SECTION B: MATH</button>
</div>

<div id="section-a" class="full-section active">
    <h2 style="text-align:center; color: var(--neon-orange);">SUDOKU & BATTLE GRID</h2>
    <div class="sudoku-container" id="sudoku-vault"></div>
    <div class="ttt-box">
        <h3>TIC-TAC-TOE</h3>
        <div class="ttt-grid-wrapper">
            <div id="strike-line"></div>
            <div class="ttt-grid" id="ttt-board"></div>
        </div>
        <div id="ttt-status" style="margin-top:15px; font-weight:bold;">X's TURN</div>
        <button onclick="resetTTT()" style="margin-top:10px; cursor:pointer; background:var(--neon-purple); color:white; border:none; padding:5px 15px; border-radius:5px;">RESET GRID</button>
    </div>
</div>

<div id="section-b" class="full-section">
    <h2 style="text-align:center; color: var(--neon-blue);">MATCH THE FOLLOWING CORE GAMES</h2>
    <div class="math-container" id="master-container"></div>
</div>

<script>
    function showSection(sid, btn) {
        document.querySelectorAll('.full-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(sid).classList.add('active');
        btn.classList.add('active');
    }

    function speak(t) { window.speechSynthesis.speak(new SpeechSynthesisUtterance(t)); }

    // --- TIC TAC TOE WITH LINE ---
    let tttB = Array(9).fill(null); let turn = 'X'; let active = true;
    function initTTT() {
        const b = document.getElementById('ttt-board');
        b.innerHTML = '';
        for(let i=0; i<9; i++) {
            const c = document.createElement('div'); c.className = 'cell';
            c.onclick = () => {
                if(!tttB[i] && active) {
                    tttB[i] = turn; c.innerText = turn;
                    const winLine = checkTTT();
                    if(winLine) { 
                        active = false;
                        drawStrike(winLine);
                        const name = document.getElementById('player-name').value || "Player";
                        speak(`Victory for ${turn}! ${name}, Samarth says Great job!`);
                        document.getElementById('ttt-status').innerHTML = `<span style="color:var(--neon-orange)">${turn} WINS!</span>`;
                    } else if(!tttB.includes(null)) {
                        document.getElementById('ttt-status').innerText = "TIE GAME!";
                    } else {
                        turn = turn === 'X' ? 'O' : 'X';
                        document.getElementById('ttt-status').innerText = `${turn}'s TURN`;
                    }
                }
            };
            b.appendChild(c);
        }
    }

    function checkTTT() {
        const l = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        for(let i=0; i<l.length; i++){
            const [a,b,c] = l[i];
            if(tttB[a] && tttB[a] === tttB[b] && tttB[a] === tttB[c]) return {indices: l[i], type: i};
        }
        return null;
    }

    function drawStrike(winData) {
        const line = document.getElementById('strike-line');
        line.style.display = 'block';
        const type = winData.type;
        // Logic for positioning line based on win pattern
        if(type === 0) { line.style.width="240px"; line.style.top="40px"; line.style.left="8px"; line.style.transform="none"; } // Row 1
        if(type === 1) { line.style.width="240px"; line.style.top="128px"; line.style.left="8px"; line.style.transform="none"; } // Row 2
        if(type === 2) { line.style.width="240px"; line.style.top="216px"; line.style.left="8px"; line.style.transform="none"; } // Row 3
        if(type === 3) { line.style.width="6px"; line.style.height="240px"; line.style.left="40px"; line.style.top="8px"; line.style.transform="none"; } // Col 1
        if(type === 4) { line.style.width="6px"; line.style.height="240px"; line.style.left="128px"; line.style.top="8px"; line.style.transform="none"; } // Col 2
        if(type === 5) { line.style.width="6px"; line.style.height="240px"; line.style.left="216px"; line.style.top="8px"; line.style.transform="none"; } // Col 3
        if(type === 6) { line.style.width="310px"; line.style.top="128px"; line.style.left="-25px"; line.style.transform="rotate(45deg)"; } // Diag 1
        if(type === 7) { line.style.width="310px"; line.style.top="128px"; line.style.left="-25px"; line.style.transform="rotate(-45deg)"; } // Diag 2
    }

    function resetTTT() {
        tttB = Array(9).fill(null); turn = 'X'; active = true;
        document.getElementById('strike-line').style.display = 'none';
        document.getElementById('strike-line').style.height = '6px'; // Reset for vertical
        document.getElementById('strike-line').style.width = '6px'; // Reset for horizontal
        document.getElementById('ttt-status').innerText = "X's TURN";
        initTTT();
    }

    // --- SUDOKU & MATH CORE (PREVIOUS DATA) ---
    const gameData = {
        g1: { title: "EXPONENTS", pairs: [{q:"2³", a:"8"}, {q:"3²", a:"9"}, {q:"5²", a:"25"}, {q:"4²", a:"16"}, {q:"10²", a:"100"}, {q:"1³", a:"1"}, {q:"6²", a:"36"}, {q:"2⁴", a:"16"}, {q:"3³", a:"27"}, {q:"2²", a:"4"}] },
        g2: { title: "FRAC TO DEC", pairs: [{q:"1/2", a:"0.5"}, {q:"1/4", a:"0.25"}, {q:"3/4", a:"0.75"}, {q:"1/5", a:"0.2"}, {q:"2/5", a:"0.4"}, {q:"4/5", a:"0.8"}, {q:"1/10", a:"0.1"}, {q:"1/8", a:"0.125"}, {q:"1/20", a:"0.05"}, {q:"1/100", a:"0.01"}] },
        g3: { title: "PERC TO FRAC", pairs: [{q:"50%", a:"1/2"}, {q:"25%", a:"1/4"}, {q:"75%", a:"3/4"}, {q:"20%", a:"1/5"}, {q:"40%", a:"2/5"}, {q:"60%", a:"3/5"}, {q:"80%", a:"4/5"}, {q:"10%", a:"1/10"}, {q:"100%", a:"1/1"}, {q:"5%", a:"1/20"}] },
        g4: { title: "PERC TO DEC", pairs: [{q:"10%", a:"0.1"}, {q:"50%", a:"0.5"}, {q:"25%", a:"0.25"}, {q:"1%", a:"0.01"}, {q:"100%", a:"1.0"}, {q:"5%", a:"0.05"}, {q:"20%", a:"0.2"}, {q:"75%", a:"0.75"}, {q:"30%", a:"0.3"}, {q:"90%", a:"0.9"}] }
    };

    const sudokus = [
        { sol: "534678912672195348198342567859761423426853791713924856961537284287419635345286179", puzzle: "53..7....6..195....98....6.8...6...34..8.3..17...2...6.6....28....419..5....8..79" },
        { sol: "126437958895621473374985126457193862983246517612578349748359261569124738231867945", puzzle: "1.6.3.9.8.9.6.1.7.3.49.51.64.7.9.8.29.3.4.5.76.2.7.3.97.83.92.1.6.1.4.3.2.1.6.9.5" },
        { sol: "276314958854962713913875264468127395597438621132596847689741532345289176721653489", puzzle: "276314958854962713913875264.6.1.7.9.5.7.3.6.11.2.9.8.7689741532345289176721653489" },
        { sol: "491873256325469718687215439149387625576124983832956147714632895968541372253798641", puzzle: "4918732563254697186872154391.9.8.6.55.6.2.9.38.2.5.1.7714632895968541372253798641" }
    ];

    function initSudoku() {
        const v = document.getElementById('sudoku-vault');
        sudokus.forEach((s, idx) => {
            const b = document.createElement('div'); b.className = 'sudoku-board'; b.id = `s-${idx}`;
            for(let i=0; i<81; i++) {
                const cell = document.createElement('div'); cell.className = 's-cell';
                if(s.puzzle[i] !== '.') { cell.innerText = s.puzzle[i]; cell.classList.add('s-fixed'); }
                else { const inp = document.createElement('input'); inp.maxLength = 1; inp.oninput = () => checkS(idx); cell.appendChild(inp); }
                b.appendChild(cell);
            }
            v.appendChild(b);
        });
    }

    function checkS(idx) {
        const b = document.getElementById(`s-${idx}`);
        const inps = b.querySelectorAll('input');
        let str = ""; let inpIdx = 0;
        for(let i=0; i<81; i++) {
            if(sudokus[idx].puzzle[i] !== '.') str += sudokus[idx].puzzle[i];
            else { str += inps[inpIdx].value; inpIdx++; }
        }
        if(str === sudokus[idx].sol && !b.dataset.win) {
            b.dataset.win = "true";
            const name = document.getElementById('player-name').value || "Player";
            speak(`Great job ${name}, you solved a sudoku!`);
        }
    }

    function initMath() {
        const v = document.getElementById('master-container');
        Object.keys(gameData).forEach(id => {
            const block = document.createElement('div'); block.className = 'game-block';
            const data = gameData[id];
            block.innerHTML = `<h3 style="color:var(--neon-orange); text-align:center;">${data.title}</h3><div style="display:flex; justify-content:space-between;"><div id="q-${id}" style="width:45%"></div><div id="a-${id}" style="width:45%"></div></div>`;
            data.pairs.sort(()=>Math.random()-0.5).forEach((p, i) => {
                const q = document.createElement('div'); q.className = 'chip'; q.innerText = p.q; q.draggable = true; q.dataset.ans = p.a; q.id = `${id}-q-${i}`;
                q.ondragstart = (e) => e.dataTransfer.setData("text", e.target.id);
                const s = document.createElement('div'); s.className = 'slot'; s.dataset.ans = p.a; s.innerText = p.a;
                s.ondragover = (e) => e.preventDefault();
                s.ondrop = (e) => {
                    const tid = e.dataTransfer.getData("text"); const t = document.getElementById(tid);
                    if(t.dataset.ans === e.target.dataset.ans) { e.target.innerHTML = ""; e.target.appendChild(t); e.target.style.background = "var(--neon-blue)"; }
                };
                block.querySelector(`#q-${id}`).appendChild(q);
                block.querySelector(`#a-${id}`).appendChild(s);
            });
            v.appendChild(block);
        });
    }

    initSudoku(); initTTT(); initMath();
</script>
</body>
</html>
